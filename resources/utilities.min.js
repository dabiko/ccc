function sendComment(e,t,s,a){$.ajax({url:"resources/comment_insert.php",type:"post",dataType:"json",data:{msg:s,parent:e,post_id:t,token_id:a},success:function(t){"1"==t?pull_comments(e,"#preview_"+e):(jQuery("#preview_"+e).html(""),simple_alert("Failed to Comment","error",t))}})}function pull_comments(e,t){jQuery("#preview_"+e).html('<center><img src="loader.gif"></center>');var s=$("#main_token").val(),a="",l="";$.ajax({type:"GET",url:"resources/comment_refresh.php?parent_id="+e}).done(function(r){if("error1001"==r)jQuery("#preview_"+e).html("");else{for(var i=JSON.parse(r),n=i.results.length,o="",d=0;n>d;d++){var m=i.results[d];console.log(i.results[d].message),o=""==m.picture||"0"==m.picture?"default.jpg":m.picture,l=m.level,a+='<li class="message_body" id="comment-'+m.cid+'"><div class="md-list-addon-element"><img class="md-user-image md-list-addon-avatar" src="profile/'+o+'" alt="" /></div><div class="md-list-content"><span class="md-list-heading">'+m.author_name+'</span><span class="uk-text-small uk-text-muted">'+m.message+'</span><span id="message-'+m.cid+'" class="level_3 uk-text-small uk-text-muted"><span class="uk-margin-small-right"><i class="material-icons md-color-red-600">&#xE87D;</i> <small>8</small></span><span class="message-button"><i class="material-icons">&#xE0B9;</i> <small>'+m.row_count+'</small></span><span  class="reply-button uk-float-right" >Reply&nbsp;</span><span  class="hide-reply-box uk-float-right" >Hide&nbsp;</span><div  style="display: none;" class="msg-text uk-width-large-7-10 uk-container-center" ><textarea  style="overflow: hidden; overflow-wrap: break-word; height:15px;" placeholder="Write Reply..." class="md-input"></textarea><input type="hidden" name="token_id" value="'+s+'"/><input type="hidden" name="post_id" value="'+m.sid+'"/></div></span></div></li><div class="uk-width-large-9-10 uk-width-large-9-10 uk-container-center" ><ul class="md-list md-list-addon uk-margin-bottom" id="preview_'+m.cid+'"></ul></div>'}if(l>4){var c='<li class="message_body"><span class="loadmore" id="loadmore'+m.sid+'">Load previous comments</span></li><li class="message_body" id="comment-'+e+'">'+$("#comment-"+e).html()+'</li><div class="uk-width-large-9-10 uk-width-large-9-10 uk-container-center" ><ul class="md-list md-list-addon uk-margin-bottom" id="preview_'+e+'">'+a+"</ul></div>";$("#com_body"+m.sid).html(c)}else $(t).html(a)}})}function pull_home_comments(e,t,s){var a=$("#main_token").val(),l="";opener_holder++,$.ajax({type:"GET",url:"resources/home_comment_refresh.php?post_id="+e+"&limi="+s}).done(function(s){if("error1001"==s)jQuery("#loader"+e).html("");else{for(var r,i=JSON.parse(s),n=i.results.length,o="",d=n-1;d>=0;d--){var m=i.results[d];console.log("this is the length "+d),console.log(i.results[d].message),o=""==m.picture||"0"==m.picture?"default.jpg":m.picture,r=m.rows_num>3&&d==n-1&&m.rows_num!=n?"<li class='message_body'><span class='loadmore' id='loadmore"+e+"'>Load more comments</span></li>":"",l+=""+r+'</span><li class="message_body" id="comment-'+m.cid+'"><div class="md-list-addon-element"><img class="md-user-image md-list-addon-avatar" src="profile/'+o+'" alt="" /></div><div class="md-list-content"><span class="md-list-heading">'+m.author_name+'</span><span class="uk-text-small uk-text-muted">'+m.message+'</span><span id="message-'+m.cid+'" class="level_3 uk-text-small uk-text-muted"><span class="uk-margin-small-right"><i class="material-icons md-color-red-600">&#xE87D;</i> <small>8</small></span><span class="message-button"><i class="material-icons">&#xE0B9;</i> <small>'+m.row_count+'</small></span><span  class="reply-button uk-float-right" >Reply&nbsp;</span><span  class="hide-reply-box uk-float-right" >Hide&nbsp;</span><div  style="display: none;" class="msg-text uk-width-large-7-10 uk-container-center" ><textarea  style="overflow: hidden; overflow-wrap: break-word; height:15px;" placeholder="Write Reply..." class="md-input"></textarea><input type="hidden" name="token_id" value="'+a+'"/><input type="hidden" name="post_id" value="'+m.sid+'"/></div></span></div></li><div class="uk-width-large-9-10 uk-width-large-9-10 uk-container-center" ><ul class="md-list md-list-addon uk-margin-bottom" id="preview_'+m.cid+'"></ul></div>'}$(t).html(l),jQuery("#loader"+e).html("")}})}function sendHomeComment(e,t,s,a){$.ajax({url:"resources/comment_insert.php",type:"post",dataType:"json",data:{msg:s,parent:e,post_id:t,token_id:a},success:function(e){"1"==e?(opener_holder=3*opener_holder,pull_home_comments(t,"#com_body"+t,opener_holder)):(jQuery("#loader"+t).html(""),simple_alert("Failed to Comment","error",e))}})}function start_withdraw_postal(){jQuery("#next"+lastTimeID).html('<center><img  src="main_loader.gif"></center>'),setInterval(function(){withdraw_postal()},4e3)}function posting_service(e,t,s,a,l){$.ajax({type:"POST",url:"add_post.php",data:"condition="+e+"&message="+t+"&video="+s+"&picture="+a+"&person="+l,success:function(e){"1"==e?($("#message").val(""),$("#video").val(""),$("#select_demo_5").val(""),jQuery("#preview").html(""),$("#condclose").trigger("click"),image_holder=[],Dropzone.forElement("#dropzonewidget").removeAllFiles(!0),simple_alert("Post Added","success","New Post Successfully added")):simple_alert("Failed to Post","error",e)},error:function(e,t,s){simple_alert("Server Response","error","status Code:"+e.status+"Error Message :"+s)}})}function withdraw_postal(){$.ajax({type:"GET",url:"resources/postpuller.php?last_id="+lastTimeID}).done(function(e){var t=$("#main_token").val(),s=JSON.parse(e),a=s.results.length,l="",r="";jQuery("#next"+lastTimeID).html('<center><img  src="main_loader.gif"></center>');for(var i=0;a>i;i++){var n=s.results[i];if(""!=n.post_pic)for(var o=JSON.parse(n.post_pic),d=o.length,m=0;d>m;m++)r+='<li><img style="max-height:450px;" src="upload/'+o[m]+'" alt="" /></li>';else r="0"!=n.video?n.video:"";0==n.picture&&(n.picture="default.jpg"),l='<div  id="next'+n.post_id+'"></div><div class="md-card md-card-hover  md-card-primary"><ul class="md-list md-list-addon "><li><div class="md-list-addon-element"><img class="md-user-image md-list-addon-avatar" src="profile/'+n.picture+'" alt="'+n.username+'" /></div><div class="md-list-content"> <span class="md-list-heading">Posted By '+n.author_name+'</span><span class="uk-text-small uk-text-muted">'+n.date_created+'</span> <span class="gallery_image_title uk-text-truncate">'+n.message+'</span></div></li></ul><ul class="uk-slideshow"  data-uk-slideshow="{autoplay:true,kenburns:true}"> '+r+' </ul><div class="blog_list_footer"> <div class="blog_list_footer_info"><span class="uk-margin-right"><i class="material-icons">&#xE87D;</i> <small>7</small></span> <span><i class="material-icons">&#xE0B9;</i> <small>258</small></span> </div> <a href="./page_blog_article.html" class="md-btn md-btn-small md-btn-flat md-btn-flat-primary uk-float-right">Write Comment</a> </div><ul id="com_body'+n.post_id+'" class="md-list md-list-addon uk-margin-bottom"></ul><span id="loader'+n.post_id+'"></span> <ul  style="list-style:none; padding:0; "><li class="level_one" id="writers_'+n.post_id+'"> <div   class="cmt-text uk-width-large-9-10 uk-container-center" ><textarea style="overflow: hidden; overflow-wrap: break-word; " placeholder="Write Comment..." class=" md-input"></textarea><input type="hidden" name="token_" value="'+t+' "/></li></ul> </div>',$("#next"+lastTimeID).html(l),lastTimeID=n.post_id,console.log("this is the last id: "+lastTimeID),jQuery("#loader"+n.post_id).html('<center><img src="loader.gif"></center>'),pull_home_comments(n.post_id,"#com_body"+n.post_id,3)}})}function video_checker(){var e=$("#video").val(),t=$("#videoclose");if(""!=e){var s=new RegExp("(https?://(?:www.|(?!www))[a-zA -Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^ s]{2,}|www.[a-zA-Z0-9][a-zA-Z0-9 -]+[a-zA-Z0-9].[^s]{2,}|https?://(?:www.|(?!www))[a-zA-Z0-9].[ ^s]{2,}|www.[a-zA-Z0-9].[^s]{2 ,})");if(s.test(e)){for(var a,l=e,r=(l.length,[]),i=0;i<l.length;i++)"/"!=l[i]?a+=l[i]:(r.push(a),a="");return-1==r.indexOf("embed")?(simple_alert("Link Type Error","error","Please enter an embedded link"),!1):(jQuery("#preview2").html(" + a video"),t.click(),!0)}return simple_alert("Invalid","error","Please enter a valid video link"),!1}return simple_alert("Empty Field","error","Please enter a video link"),!1}function simple_alert(e,t,s){swal({title:e,text:s,type:t,confirmButtonText:"Ok!"})}function image_alert(){swal({title:"Sweet!",text:"Here's a custom image.",imageUrl:"images/thumbs-up.jpg"})}function confirmation_alert(e,t,s,a,l){swal({title:e,text:s,type:t,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1},function(e){e?swal("Deleted!",a,"success"):swal("Cancelled",l,"error")})}function add_member(){$.ajax({type:"POST",url:"resources/add_member.php",data:"",success:function(e){"1"==e?(simple_alert("Congrats","success","You successfully joined this community"),$("#join_btn").html('<a href="#" class="md-btn  md-btn-default" onclick="add_member()" id="join">LEAVE -</a>')):simple_alert("Failed to Post","error",e)},error:function(e,t,s){simple_alert("Server Response","error","status Code:"+e.status+"Error Message :"+s)}})}var lastTimeID=0,opener_holder=1;$(document).ready(function(){start_withdraw_postal()}),$(document).on("keypress",".msg-text textarea, .msg-text input",function(e){if(13==e.keyCode&&0==e.shiftKey){var t=$(this).parent(".msg-text").children("textarea").val().trim(),s=$(this).parent(".msg-text").parent(".level_3").attr("id").slice(8);jQuery("#preview_"+s).html('<center><img src="loader.gif"></center>');var a=$(this).parent(".msg-text").children('[name="post_id"]').val().trim(),l=$(this).parent(".msg-text").children('[name="token_id"]').val().trim();""!=s||""!=a||""!=l?""!=t?(sendComment(s,a,t,l),$(this).parent(".msg-text").children("textarea").val(" ")):(jQuery("#preview_"+s).html(""),simple_alert("Empty Comment","error","Please enter a comment")):(jQuery("#preview_"+s).html(""),simple_alert("Fatal Error","error","Required accessories missing"))}}),$(document).on("click",".reply-button",function(){$(this).parent().children(".msg-text").show(),$(this).parent().children(".hide-reply-box").show(),$(this).hide()}),$(document).on("click",".message-button",function(){var e=$(this).parent(".level_3").attr("id").slice(8);pull_comments(e,"#preview_"+e)}),$(document).on("click",".hide-reply-box",function(){$(this).parent().children(".msg-text").hide(),$(this).parent().children(".reply-button").show(),$(this).hide()}),$(document).on("keypress",".cmt-text textarea, .cmt-text input",function(e){if(13==e.keyCode&&0==e.shiftKey){var t=$(this).parent(".cmt-text").children("textarea").val().trim(),s=$(this).parent(".cmt-text").parent(".level_one").attr("id").slice(8);jQuery("#loader"+s).html('<center><img src="loader.gif"></center>');var a=0,l=$(this).parent(".cmt-text").children('[name="token_"]').val().trim();""!=a||""!=s||""!=l?""!=t?(sendHomeComment(a,s,t,l),$(this).parent(".cmt-text").children("textarea").val(" ")):(jQuery("#loader"+s).html('<center style="color:red;"> please enter comment</center>'),simple_alert("Empty Comment","error","Please enter a comment")):(jQuery("#loader"+s).html("<center>required accessories are missing</center>"),simple_alert("Fatal Error","error","Required accessories missing"))}}),$(document).on("click",".loadmore",function(){var e=$(this).attr("id").slice(8);jQuery("#loader"+e).html('<center><img src="loader.gif"></center>'),pull_home_comments(e,"#com_body"+e,10)});
//# sourceMappingURL=utilities.min.js.map