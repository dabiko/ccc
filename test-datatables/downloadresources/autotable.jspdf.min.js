"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){function t(e){var t=h(C(),e);"undefined"!=typeof t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!=typeof t.margins&&("undefined"==typeof t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(e){var r="string"==typeof e?e:e[0],n="string"==typeof e?e:e[1];"undefined"!=typeof t[r]&&("undefined"==typeof t.styles[n]&&(t.styles[n]=t[r]),console.error("Use of deprecated option: "+r+", use the style "+n+" instead."))});var r=t.margin;return t.margin={},"number"==typeof r.horizontal&&(r.right=r.horizontal,r.left=r.horizontal),"number"==typeof r.vertical&&(r.top=r.vertical,r.bottom=r.vertical),["top","right","bottom","left"].forEach(function(e,n){if("number"==typeof r)t.margin[e]=r;else{var a=Array.isArray(r)?n:e;t.margin[e]="number"==typeof r[a]?r[a]:40}}),t}function r(e,t){v=new Table,v.x=g.margin.left;var r=/\r\n|\r|\n/g,n=new Row(e);n.index=-1;var a=h(y,x[g.theme].table,x[g.theme].header);n.styles=h(a,g.styles,g.headerStyles),e.forEach(function(e,t){"object"==typeof e&&(t="undefined"!=typeof e.dataKey?e.dataKey:e.key),"undefined"!=typeof e.width&&console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.");var a=new Column(t);a.styles=g.columnStyles[a.dataKey]||{},v.columns.push(a);var s=new Cell;s.raw="object"==typeof e?e.title:e,s.styles=n.styles,s.text=""+s.raw,s.contentWidth=2*s.styles.cellPadding+f(s.text,s.styles),s.text=s.text.split(r),n.cells[t]=s,g.createdHeaderCell(s,{column:a,row:n,settings:g})}),v.headerRow=n,t.forEach(function(e,t){var n=new Row(e),a=t%2===0,s=h(y,x[g.theme].table,a?x[g.theme].alternateRow:{}),o=h(g.styles,g.bodyStyles,a?g.alternateRowStyles:{});n.styles=h(s,o),n.index=t,v.columns.forEach(function(t){var a=new Cell;a.raw=e[t.dataKey],a.styles=h(n.styles,t.styles),a.text="undefined"!=typeof a.raw?""+a.raw:"",n.cells[t.dataKey]=a,g.createdCell(a,d({column:t,row:n})),a.contentWidth=2*a.styles.cellPadding+f(a.text,a.styles),a.text=a.text.split(r)}),v.rows.push(n)})}function n(){var e=0;v.columns.forEach(function(t){t.contentWidth=v.headerRow.cells[t.dataKey].contentWidth,v.rows.forEach(function(e){var r=e.cells[t.dataKey].contentWidth;r>t.contentWidth&&(t.contentWidth=r)}),t.width=t.contentWidth,e+=t.contentWidth}),v.contentWidth=e;var t=p.internal.pageSize.width-g.margin.left-g.margin.right,r=t;"number"==typeof g.tableWidth?r=g.tableWidth:"wrap"===g.tableWidth&&(r=v.contentWidth),v.width=t>r?r:t;var n=[],s=0,o=v.width/v.columns.length,i=0;v.columns.forEach(function(e){var t=h(y,x[g.theme].table,g.styles,e.styles);"wrap"===t.columnWidth?e.width=e.contentWidth:"number"==typeof t.columnWidth?e.width=t.columnWidth:e.contentWidth<=o&&v.contentWidth>v.width?e.width=e.contentWidth:(n.push(e),s+=e.contentWidth,e.width=0),i+=e.width}),a(n,i,s,o),v.height=0;var l=v.rows.concat(v.headerRow);l.forEach(function(e){var t=0,r=v.x;v.columns.forEach(function(n){var a=e.cells[n.dataKey];n.x=r,c(a.styles);var s=n.width-2*a.styles.cellPadding;"linebreak"===a.styles.overflow?a.text=p.splitTextToSize(a.text,s+1,{fontSize:a.styles.fontSize}):"ellipsize"===a.styles.overflow?a.text=u(a.text,s,a.styles):"visible"===a.styles.overflow||("hidden"===a.styles.overflow?a.text=u(a.text,s,a.styles,""):"function"==typeof a.styles.overflow?a.text=a.styles.overflow(a.text,s):console.error("Unrecognized overflow type: "+a.styles.overflow));var o=Array.isArray(a.text)?a.text.length-1:0;o>t&&(t=o),r+=n.width}),e.heightStyle=e.styles.rowHeight,e.height=e.heightStyle+t*e.styles.fontSize*w,v.height+=e.height})}function a(e,t,r,n){for(var s=v.width-t-r,o=0;o<e.length;o++){var i=e[o],l=i.contentWidth/r,c=i.contentWidth+s*l<n;if(0>s&&c){e.splice(o,1),r-=i.contentWidth,i.width=n,t+=i.width,a(e,t,r,n);break}i.width=i.contentWidth+s*l}}function s(){v.rows.forEach(function(e){if(i(e.height)){o()}e.y=m.y,g.drawRow(e,d({row:e}))!==!1&&l(e,g.drawCell)})}function o(){g.afterPageContent(d()),p.addPage(),b++,m={x:g.margin.left,y:g.margin.top},g.beforePageContent(d()),g.drawHeaderRow(v.headerRow,d({row:v.headerRow}))!==!1&&l(v.headerRow,g.drawHeaderCell)}function i(e){var t=m.y+e+g.margin.bottom;return t>=p.internal.pageSize.height}function l(e,t){for(var r=0;r<v.columns.length;r++){var n=v.columns[r],a=e.cells[n.dataKey];if(a){c(a.styles),a.x=n.x,a.y=m.y,a.height=e.height,a.width=n.width,a.textPos.y="top"===a.styles.valign?m.y+a.styles.cellPadding:"bottom"===a.styles.valign?m.y+e.height-a.styles.cellPadding:m.y+e.height/2,a.textPos.x="right"===a.styles.halign?a.x+a.width-a.styles.cellPadding:"center"===a.styles.halign?a.x+a.width/2:a.x+a.styles.cellPadding;var s=d({column:n,row:e});t(a,s)!==!1&&(p.rect(a.x,a.y,a.width,a.height,a.styles.fillStyle),p.autoTableText(a.text,a.textPos.x,a.textPos.y,{halign:a.styles.halign,valign:a.styles.valign}))}}m.y+=e.height}function c(e){var t=[{func:p.setFillColor,value:e.fillColor},{func:p.setTextColor,value:e.textColor},{func:p.setFontStyle,value:e.fontStyle},{func:p.setDrawColor,value:e.lineColor},{func:p.setLineWidth,value:e.lineWidth},{func:p.setFont,value:e.font},{func:p.setFontSize,value:e.fontSize}];t.forEach(function(e){"undefined"!=typeof e.value&&(e.value.constructor===Array?e.func.apply(this,e.value):e.func(e.value))})}function d(e){e=e||{};var t={pageCount:b,settings:g,table:v,cursor:m};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function u(e,t,r,n){if(n="undefined"!=typeof n?n:"...",Array.isArray(e))return e.forEach(function(a,s){e[s]=u(a,t,r,n)}),e;if(t>=f(e,r))return e;for(;t<f(e+n,r)&&!(e.length<2);)e=e.substring(0,e.length-1);return e.trim()+n}function f(e,t){c(t);var r=p.getStringUnitWidth(e);return r*t.fontSize}function h(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);for(var n=1;n<arguments.length;n++){var a=arguments[n];for(t in a)a.hasOwnProperty(t)&&(r[t]="object"!=typeof a[t]||Array.isArray(a[t])?a[t]:a[t])}return r}var p,m,g,b,v,w=1.15,y={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"},x={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}},C=function(){return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:!1,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function(){},createdCell:function(){},drawHeaderRow:function(){},drawRow:function(){},drawHeaderCell:function(){},drawCell:function(){},beforePageContent:function(){},afterPageContent:function(){}}};e.autoTable=function(e,a,o){p=this,g=t(o||{}),b=1,m={y:g.startY===!1?g.margin.top:g.startY};var i={textColor:30,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle};r(e,a),n();var u=v.rows[0]&&"auto"===g.pageBreak?v.rows[0].height:0,f=g.startY+g.margin.bottom+v.headerRow.height+u;return"avoid"===g.pageBreak&&(f+=v.height),("always"===g.pageBreak&&g.startY!==!1||g.startY!==!1&&f>p.internal.pageSize.height)&&(p.addPage(),m.y=g.margin.top),c(i),g.beforePageContent(d()),g.drawHeaderRow(v.headerRow,d({row:v.headerRow}))!==!1&&l(v.headerRow,g.drawHeaderCell),c(i),s(),g.afterPageContent(d()),c(i),this},e.autoTableEndPosY=function(){return"undefined"==typeof m||"undefined"==typeof m.y?0:m.y},e.autoTableHtmlToJson=function(e){var t,r,n,a,s=[],o=[],i=e.rows[0];for(n=0;n<i.cells.length;n++)o.push("undefined"!=typeof i.cells[n]?i.cells[n].textContent:"");for(n=1;n<e.rows.length;n++){for(t=e.rows[n],r=[],a=0;a<i.cells.length;a++)r.push("undefined"!=typeof t.cells[a]?t.cells[a].textContent:"");s.push(r)}return{columns:o,data:s,rows:s}},e.autoTableText=function(e,t,r,n){("number"!=typeof t||"number"!=typeof r)&&console.error("The x and y parameters are required. Missing for the text: ",e);var a=p.internal.getFontSize()/p.internal.scaleFactor,s=w,o=/\r\n|\r|\n/g,i=null,l=1;if(("middle"===n.valign||"bottom"===n.valign||"center"===n.halign||"right"===n.halign)&&(i="string"==typeof e?e.split(o):e,l=i.length||1),r+=a*(2-s),"middle"===n.valign?r-=l/2*a:"bottom"===n.valign&&(r-=l*a),"center"===n.halign||"right"===n.halign){var c=a;if("center"===n.halign&&(c*=.5),l>=1){for(var d=0;d<i.length;d++)p.text(i[d],t-p.getStringUnitWidth(i[d])*c,r),r+=a;return p}t-=p.getStringUnitWidth(e)*c}return p.text(e,t,r),p}}(jsPDF.API);var Table=function e(){_classCallCheck(this,e),this.height=0,this.width=0,this.x=0,this.y=0,this.contentWidth=0,this.rows=[],this.columns=[],this.headerRow=null,this.settings={}},Row=function t(e){_classCallCheck(this,t),this.raw=e||{},this.index=0,this.styles={},this.cells={},this.height=0,this.y=0},Cell=function r(e){_classCallCheck(this,r),this.raw=e,this.styles={},this.text="",this.contentWidth=0,this.textPos={},this.height=0,this.width=0,this.x=0,this.y=0},Column=function n(e){_classCallCheck(this,n),this.dataKey=e,this.options={},this.styles={},this.contentWidth=0,this.width=0,this.x=0};
//# sourceMappingURL=autotable.jspdf.min.js.map